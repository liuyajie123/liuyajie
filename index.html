<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="./js/bootstrap.css">
    <link rel="stylesheet" href="./css/style.css">
</head>
<body ng-app="myapp">
        <div ng-controller="ft">
            <div class="top-ul">
                <ul>
                    <li> 通用权限管理工作 </li>
                    <li>
                        <span>个人中心</span>
                        <span>系统设置</span>
                    </li>
                </ul>
            </div>
            <div class="left-ul">
                <p>我的工作台</p>
                <p>权限管理</p>
                <ul>
                    <li ui-sref="add">添加用户</li>
                    <li ui-sref="user">用户管理</li>
                </ul>
            </div>

            <div class="right">

                    <div ui-view></div>

            </div>

        </div>

        <script src="./js/angular.js"></script>
        <script src="./js/angular-ui-router.js"></script>
        <script src="./js/jquery.js"></script>

        <script>
            var app=angular.module("myapp",['ui.router'])
                app.controller("ft",function($scope, data,$rootScope,$log){
                    $scope.data=data.thirdata
                    $scope.role="管理员"
                    $scope.state="启用"
                    $rootScope.number=data.number
                    $rootScope.i=0
                    $rootScope.no=0
                    $rootScope.no=$rootScope.i
                    $scope.fn=function(i){
                        $rootScope.i=i
                        $scope.data=data.thirdata.slice(i,i+1)
                        $rootScope.no=$rootScope.i
                    }

                    $scope.add=function(){
                        $rootScope.i++
                        if($rootScope.i>$rootScope.number.length-1){
                            $rootScope.i=0
                        }
                        $scope.data=data.thirdata.slice($rootScope.i,$rootScope.i+1)
                        $rootScope.no=$rootScope.i
                    }
                    $scope.minus=function(){
                        $rootScope.i--
                        if($rootScope.i<0){
                            $rootScope.i=$rootScope.number.length-1
                        }
                        $scope.data=data.thirdata.slice($rootScope.i,$rootScope.i+1)
                        $rootScope.no=$rootScope.i
                    }
                     $scope.search=function(){
                         $scope.searchmodel=$
                     }

                    $scope.turn=false
                    $scope.ot=function(i){
                        $scope.turn=!$scope.turn
                        console.log($scope.data[i])
                        $scope.dname=$scope.data[i].parentid
                        $scope.name=$scope.data[i].name
                        $scope.jss=$scope.data[i].role
                        $scope.tel=$scope.data[i].telephone
                        $scope.yx=$scope.data[i].email
                        $scope.zt=$scope.data[i].state
                    }

                    $scope.que=function(){
                        $scope.turn=false;

                    }

                    $scope.qu=function(){
                        $scope.turn=false;
                    }


                })


            app.config(function($stateProvider){
                $stateProvider
                        .state("add",{
                            url:"/add",
                            templateUrl:"add.html"
                        })
                        .state("user",{
                            url:"/user",
                            templateUrl:"user.html"
                        })
            })
            app.service("data",function(){
                 return{
                    fstdata:[
                        {
                            id:1,
                            name:'个人中心',
                            nickname:'账户管理'
                        },
                        {
                            id:2,
                            name:'系统设置',
                            nickname:'权限管理'
                        }
                    ],
                    secdata:[
                        {
                            id:11,
                            parentid:1,
                            name:'个人信息',
                            page:'grxx.html'
                        },
                        {
                            id:12,
                            parentid:1,
                            name:'修改密码',
                            page:'xgmm.html'
                        },
                        {
                            id:21,
                            parentid:2,
                            name:'功能配置',
                            page:'gnpz.html'
                        },
                        {
                            id:22,
                            parentid:2,
                            name:'角色管理',
                            page:'jsgl.html'
                        },
                        {
                            id:23,
                            parentid:2,
                            name:'用户管理',
                            page:'yhgl.html'
                        }
                    ],
                    thirdata:[
                        {
                            ID:1,
                            parentid:23,
                            loginname:'zhangsan',
                            name:'张三',
                            role:'13管理员aaa',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'启用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:2,
                            parentid:23,
                            loginname:'lisi',
                            name:'李四',
                            role:'13管理员aaa',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'禁用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:3,
                            parentid:23,
                            loginname:'wangwu',
                            name:'王五',
                            role:'13管理员aaa',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'启用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:4,
                            parentid:23,
                            loginname:'zhangchen',
                            name:'张晨',
                            role:'13管理员aaa',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'启用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:5,
                            parentid:23,
                            loginname:'liucheng',
                            name:'刘成',
                            role:'管理员',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'禁用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:6,
                            parentid:23,
                            loginname:'liji',
                            name:'李继',
                            role:'13管理员aaa',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'禁用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:7,
                            parentid:23,
                            loginname:'yuantao',
                            name:'袁涛',
                            role:'13管理',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'启用',
                            creattime:'2014-07-27 16:56'
                        },
                        {
                            ID:8,
                            parentid:23,
                            loginname:'wangjian',
                            name:'王建',
                            role:'管理员',
                            telephone:'15098950322',
                            email:'837990335@qq.com',
                            state:'禁用',
                            creattime:'2014-07-27 16:56'
                        }
                    ],
                    fourdata:[
                        {
                            ID:1,
                            role:"管理员",
                            state:"启用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:2,
                            role:"管理员2",
                            state:"禁用",
                            orders:2,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:3,
                            role:"管理员",
                            state:"禁用",
                            orders:5,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:4,
                            role:"管理员2",
                            state:"启用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:5,
                            role:"管理员0",
                            state:"启用",
                            orders:2,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:6,
                            role:"管理员1",
                            state:"禁用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:7,
                            role:"管理员是",
                            state:"启用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:8,
                            role:"管理员0",
                            state:"启用",
                            orders:1,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:9,
                            role:"管理员2",
                            state:"启用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:10,
                            role:"管理2",
                            state:"启用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        },
                        {
                            ID:11,
                            role:"管理员2",
                            state:"禁用",
                            orders:0,
                            creattime:'2014-07-27 16:35'
                        }

                    ],
                     number:[ 1,2,3,4,5,6,7,8]


                }
            })
        </script>
</body>
</html>